{"failedCount":1,"prefixedPath":"src\/low-stock-alerts.feature","packageQualifiedName":"src.low-stock-alerts","loopIndex":-1,"relativePath":"src\/low-stock-alerts.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":59600500,"startTime":1755059577261,"endTime":1755059577321,"millis":59.6005,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":287679200,"startTime":1755059577323,"endTime":1755059577611,"millis":287.6792,"status":"passed"},"step":{"line":5,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:32:57.559 request:\n1 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n1 > Host: localhost:5000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:32:57.590 response time in milliseconds: 28\n1 < 200\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Wed, 13 Aug 2025 04:32:56 GMT\n1 < Server: Kestrel\n1 < Transfer-Encoding: chunked\n[]\n\n"},{"result":{"nanos":4691300,"startTime":1755059577611,"endTime":1755059577616,"millis":4.6913,"status":"passed"},"step":{"line":6,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":30378200,"startTime":1755059577616,"endTime":1755059577646,"millis":30.3782,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"match response == '#[]'"}}],"executorName":"main","line":3,"name":"Get low stock alerts - API returns valid array","description":"","durationMillis":382.3492,"startTime":1755059577253,"failed":false,"refId":"[1:3]","endTime":1755059577646,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":525000,"startTime":1755059577651,"endTime":1755059577652,"millis":0.525,"status":"passed"},"step":{"comments":["# Try multiple times to increase chance of getting empty result"],"line":11,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":5874200,"startTime":1755059577651,"endTime":1755059577657,"millis":5.8742,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:32:57.654 request:\n1 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n1 > Host: localhost:5000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:32:57.656 response time in milliseconds: 2\n1 < 200\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Wed, 13 Aug 2025 04:32:57 GMT\n1 < Server: Kestrel\n1 < Transfer-Encoding: chunked\n[]\n\n"},{"result":{"nanos":12800,"startTime":1755059577657,"endTime":1755059577657,"millis":0.0128,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":621800,"startTime":1755059577657,"endTime":1755059577658,"millis":0.6218,"status":"passed"},"step":{"line":14,"prefix":"And","index":3,"text":"match response == '#[]'"}},{"result":{"nanos":24315000,"startTime":1755059577658,"endTime":1755059577682,"millis":24.315,"status":"passed"},"step":{"line":15,"prefix":"*","index":4,"text":"def attempt1Empty = response.length == 0"}},{"result":{"nanos":223600,"startTime":1755059577683,"endTime":1755059577683,"millis":0.2236,"status":"passed"},"step":{"line":17,"prefix":"Given","index":5,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":4402200,"startTime":1755059577683,"endTime":1755059577687,"millis":4.4022,"status":"passed"},"step":{"line":18,"prefix":"When","index":6,"text":"method GET"},"stepLog":"12:32:57.684 request:\n2 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n2 > Host: localhost:5000\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n2 > Accept-Encoding: gzip,deflate\n\n\n12:32:57.687 response time in milliseconds: 2\n2 < 200\n2 < Content-Type: application\/json; charset=utf-8\n2 < Date: Wed, 13 Aug 2025 04:32:57 GMT\n2 < Server: Kestrel\n2 < Transfer-Encoding: chunked\n[]\n\n"},{"result":{"nanos":15300,"startTime":1755059577687,"endTime":1755059577687,"millis":0.0153,"status":"passed"},"step":{"line":19,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":969000,"startTime":1755059577687,"endTime":1755059577688,"millis":0.969,"status":"passed"},"step":{"line":20,"prefix":"And","index":8,"text":"match response == '#[]'"}},{"result":{"nanos":481600,"startTime":1755059577689,"endTime":1755059577689,"millis":0.4816,"status":"passed"},"step":{"line":21,"prefix":"*","index":9,"text":"def attempt2Empty = response.length == 0"}},{"result":{"nanos":193400,"startTime":1755059577689,"endTime":1755059577689,"millis":0.1934,"status":"passed"},"step":{"line":23,"prefix":"Given","index":10,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":5611400,"startTime":1755059577689,"endTime":1755059577695,"millis":5.6114,"status":"passed"},"step":{"line":24,"prefix":"When","index":11,"text":"method GET"},"stepLog":"12:32:57.691 request:\n3 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n3 > Host: localhost:5000\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n3 > Accept-Encoding: gzip,deflate\n\n\n12:32:57.694 response time in milliseconds: 2\n3 < 200\n3 < Content-Type: application\/json; charset=utf-8\n3 < Date: Wed, 13 Aug 2025 04:32:57 GMT\n3 < Server: Kestrel\n3 < Transfer-Encoding: chunked\n[{\"productId\":2,\"productName\":\"Gadget\",\"stock\":1,\"lowStockThreshold\":3}]\n\n"},{"result":{"nanos":13200,"startTime":1755059577695,"endTime":1755059577695,"millis":0.0132,"status":"passed"},"step":{"line":25,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":560000,"startTime":1755059577695,"endTime":1755059577696,"millis":0.56,"status":"passed"},"step":{"line":26,"prefix":"And","index":13,"text":"match response == '#[]'"}},{"result":{"nanos":365300,"startTime":1755059577696,"endTime":1755059577696,"millis":0.3653,"status":"passed"},"step":{"line":27,"prefix":"*","index":14,"text":"def attempt3Empty = response.length == 0"}},{"result":{"nanos":3043900,"startTime":1755059577696,"endTime":1755059577699,"millis":3.0439,"status":"passed"},"step":{"comments":["# Test passes if ANY attempt returns empty"],"line":30,"prefix":"*","index":15,"text":"def gotEmptyResult = attempt1Empty || attempt2Empty || attempt3Empty"}},{"result":{"nanos":56821100,"startTime":1755059577699,"endTime":1755059577756,"millis":56.8211,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (gotEmptyResult) karate.log('Success! At least one call returned empty array')"},"stepLog":"12:32:57.755 Success! At least one call returned empty array \n"},{"result":{"nanos":3566000,"startTime":1755059577756,"endTime":1755059577760,"millis":3.566,"status":"passed"},"step":{"line":32,"prefix":"*","index":17,"text":"if (!gotEmptyResult) karate.log('All attempts had items, validating structure')"}},{"result":{"nanos":13869000,"errorMessage":"js failed:\n>>>>\n01: if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:27 Expected ; but found response\r\nif (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\r\n                           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1286)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:378)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nsrc\/low-stock-alerts.feature:33","startTime":1755059577760,"endTime":1755059577774,"millis":13.869,"status":"failed"},"step":{"line":33,"prefix":"*","index":18,"text":"if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }"},"stepLog":"12:32:57.802 src\/low-stock-alerts.feature:33\n* if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\njs failed:\n>>>>\n01: if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:27 Expected ; but found response\r\nif (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\r\n                           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1286)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:378)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nsrc\/low-stock-alerts.feature:33\n"}],"line":9,"description":"","durationMillis":121.4838,"failed":true,"error":"js failed:\n>>>>\n01: if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:27 Expected ; but found response\r\nif (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\r\n                           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1286)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:378)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nsrc\/low-stock-alerts.feature:33","executorName":"main","name":"API can return empty list when no items are low in stock","startTime":1755059577651,"refId":"[2:9]","endTime":1755059577802,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":817900,"startTime":1755059577810,"endTime":1755059577811,"millis":0.8179,"status":"passed"},"step":{"line":36,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts-invalid'"}},{"result":{"nanos":5167300,"startTime":1755059577811,"endTime":1755059577816,"millis":5.1673,"status":"passed"},"step":{"line":37,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:32:57.813 request:\n1 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts-invalid\n1 > Host: localhost:5000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:32:57.815 response time in milliseconds: 1\n1 < 404\n1 < Content-Length: 0\n1 < Date: Wed, 13 Aug 2025 04:32:57 GMT\n1 < Server: Kestrel\n\n\n"},{"result":{"nanos":13200,"startTime":1755059577816,"endTime":1755059577816,"millis":0.0132,"status":"passed"},"step":{"line":38,"prefix":"Then","index":2,"text":"status 404"}}],"executorName":"main","line":35,"name":"Invalid endpoint returns 404","description":"","durationMillis":5.9984,"startTime":1755059577810,"failed":false,"refId":"[3:35]","endTime":1755059577816,"exampleIndex":-1}],"callDepth":0,"name":"Low Stock Alerts API","description":"","resultDate":"2025-08-13 12:32:57 pm","durationMillis":509.8314,"passedCount":2}