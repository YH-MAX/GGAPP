{"failedCount":1,"prefixedPath":"src\/low-stock-alerts.feature","packageQualifiedName":"src.low-stock-alerts","loopIndex":-1,"relativePath":"src\/low-stock-alerts.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":59972000,"startTime":1755059587050,"endTime":1755059587110,"millis":59.972,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":277835600,"startTime":1755059587112,"endTime":1755059587390,"millis":277.8356,"status":"passed"},"step":{"line":5,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:33:07.344 request:\n1 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n1 > Host: localhost:5000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:33:07.372 response time in milliseconds: 26\n1 < 200\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Wed, 13 Aug 2025 04:33:06 GMT\n1 < Server: Kestrel\n1 < Transfer-Encoding: chunked\n[{\"productId\":1,\"productName\":\"Widget\",\"stock\":1,\"lowStockThreshold\":3}]\n\n"},{"result":{"nanos":3455800,"startTime":1755059587390,"endTime":1755059587393,"millis":3.4558,"status":"passed"},"step":{"line":6,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":27978900,"startTime":1755059587394,"endTime":1755059587422,"millis":27.9789,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"match response == '#[]'"}}],"executorName":"main","line":3,"name":"Get low stock alerts - API returns valid array","description":"","durationMillis":369.2423,"startTime":1755059587040,"failed":false,"refId":"[1:3]","endTime":1755059587422,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":790100,"startTime":1755059587426,"endTime":1755059587427,"millis":0.7901,"status":"passed"},"step":{"comments":["# Try multiple times to increase chance of getting empty result"],"line":11,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":4852500,"startTime":1755059587427,"endTime":1755059587432,"millis":4.8525,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:33:07.429 request:\n1 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n1 > Host: localhost:5000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:33:07.431 response time in milliseconds: 1\n1 < 200\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Wed, 13 Aug 2025 04:33:06 GMT\n1 < Server: Kestrel\n1 < Transfer-Encoding: chunked\n[]\n\n"},{"result":{"nanos":10600,"startTime":1755059587432,"endTime":1755059587432,"millis":0.0106,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":503500,"startTime":1755059587432,"endTime":1755059587433,"millis":0.5035,"status":"passed"},"step":{"line":14,"prefix":"And","index":3,"text":"match response == '#[]'"}},{"result":{"nanos":23852300,"startTime":1755059587433,"endTime":1755059587457,"millis":23.8523,"status":"passed"},"step":{"line":15,"prefix":"*","index":4,"text":"def attempt1Empty = response.length == 0"}},{"result":{"nanos":168400,"startTime":1755059587457,"endTime":1755059587457,"millis":0.1684,"status":"passed"},"step":{"line":17,"prefix":"Given","index":5,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":4812700,"startTime":1755059587457,"endTime":1755059587462,"millis":4.8127,"status":"passed"},"step":{"line":18,"prefix":"When","index":6,"text":"method GET"},"stepLog":"12:33:07.458 request:\n2 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n2 > Host: localhost:5000\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n2 > Accept-Encoding: gzip,deflate\n\n\n12:33:07.461 response time in milliseconds: 2\n2 < 200\n2 < Content-Type: application\/json; charset=utf-8\n2 < Date: Wed, 13 Aug 2025 04:33:06 GMT\n2 < Server: Kestrel\n2 < Transfer-Encoding: chunked\n[{\"productId\":1,\"productName\":\"Widget\",\"stock\":1,\"lowStockThreshold\":3},{\"productId\":3,\"productName\":\"Thingamajig\",\"stock\":2,\"lowStockThreshold\":3},{\"productId\":4,\"productName\":\"Doodad\",\"stock\":1,\"lowStockThreshold\":3}]\n\n"},{"result":{"nanos":13600,"startTime":1755059587462,"endTime":1755059587462,"millis":0.0136,"status":"passed"},"step":{"line":19,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":1174100,"startTime":1755059587462,"endTime":1755059587463,"millis":1.1741,"status":"passed"},"step":{"line":20,"prefix":"And","index":8,"text":"match response == '#[]'"}},{"result":{"nanos":401200,"startTime":1755059587463,"endTime":1755059587463,"millis":0.4012,"status":"passed"},"step":{"line":21,"prefix":"*","index":9,"text":"def attempt2Empty = response.length == 0"}},{"result":{"nanos":136500,"startTime":1755059587464,"endTime":1755059587464,"millis":0.1365,"status":"passed"},"step":{"line":23,"prefix":"Given","index":10,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts'"}},{"result":{"nanos":4441800,"startTime":1755059587464,"endTime":1755059587468,"millis":4.4418,"status":"passed"},"step":{"line":24,"prefix":"When","index":11,"text":"method GET"},"stepLog":"12:33:07.465 request:\n3 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts\n3 > Host: localhost:5000\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n3 > Accept-Encoding: gzip,deflate\n\n\n12:33:07.468 response time in milliseconds: 2\n3 < 200\n3 < Content-Type: application\/json; charset=utf-8\n3 < Date: Wed, 13 Aug 2025 04:33:06 GMT\n3 < Server: Kestrel\n3 < Transfer-Encoding: chunked\n[{\"productId\":1,\"productName\":\"Widget\",\"stock\":2,\"lowStockThreshold\":3},{\"productId\":4,\"productName\":\"Doodad\",\"stock\":1,\"lowStockThreshold\":3},{\"productId\":5,\"productName\":\"Doohickey\",\"stock\":1,\"lowStockThreshold\":3}]\n\n"},{"result":{"nanos":11600,"startTime":1755059587468,"endTime":1755059587468,"millis":0.0116,"status":"passed"},"step":{"line":25,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":494800,"startTime":1755059587468,"endTime":1755059587468,"millis":0.4948,"status":"passed"},"step":{"line":26,"prefix":"And","index":13,"text":"match response == '#[]'"}},{"result":{"nanos":249800,"startTime":1755059587469,"endTime":1755059587469,"millis":0.2498,"status":"passed"},"step":{"line":27,"prefix":"*","index":14,"text":"def attempt3Empty = response.length == 0"}},{"result":{"nanos":3118500,"startTime":1755059587469,"endTime":1755059587472,"millis":3.1185,"status":"passed"},"step":{"comments":["# Test passes if ANY attempt returns empty"],"line":30,"prefix":"*","index":15,"text":"def gotEmptyResult = attempt1Empty || attempt2Empty || attempt3Empty"}},{"result":{"nanos":50899200,"startTime":1755059587472,"endTime":1755059587523,"millis":50.8992,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (gotEmptyResult) karate.log('Success! At least one call returned empty array')"},"stepLog":"12:33:07.522 Success! At least one call returned empty array \n"},{"result":{"nanos":4433900,"startTime":1755059587523,"endTime":1755059587527,"millis":4.4339,"status":"passed"},"step":{"line":32,"prefix":"*","index":17,"text":"if (!gotEmptyResult) karate.log('All attempts had items, validating structure')"}},{"result":{"nanos":13985800,"errorMessage":"js failed:\n>>>>\n01: if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:27 Expected ; but found response\r\nif (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\r\n                           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1286)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:378)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nsrc\/low-stock-alerts.feature:33","startTime":1755059587528,"endTime":1755059587542,"millis":13.9858,"status":"failed"},"step":{"line":33,"prefix":"*","index":18,"text":"if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }"},"stepLog":"12:33:07.546 src\/low-stock-alerts.feature:33\n* if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\njs failed:\n>>>>\n01: if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:27 Expected ; but found response\r\nif (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\r\n                           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1286)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:378)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nsrc\/low-stock-alerts.feature:33\n"}],"line":9,"description":"","durationMillis":114.3509,"failed":true,"error":"js failed:\n>>>>\n01: if (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:27 Expected ; but found response\r\nif (!gotEmptyResult) match response[0] == { productId: '#number', productName: '#string', stock: '#number', lowStockThreshold: '#number' }\r\n                           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1286)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:378)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nsrc\/low-stock-alerts.feature:33","executorName":"main","name":"API can return empty list when no items are low in stock","startTime":1755059587426,"refId":"[2:9]","endTime":1755059587546,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":396800,"startTime":1755059587552,"endTime":1755059587552,"millis":0.3968,"status":"passed"},"step":{"line":36,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts-invalid'"}},{"result":{"nanos":4271900,"startTime":1755059587552,"endTime":1755059587556,"millis":4.2719,"status":"passed"},"step":{"line":37,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:33:07.554 request:\n1 > GET http:\/\/localhost:5000\/api\/inventory\/low-stock-alerts-invalid\n1 > Host: localhost:5000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:33:07.556 response time in milliseconds: 1\n1 < 404\n1 < Content-Length: 0\n1 < Date: Wed, 13 Aug 2025 04:33:06 GMT\n1 < Server: Kestrel\n\n\n"},{"result":{"nanos":11900,"startTime":1755059587557,"endTime":1755059587557,"millis":0.0119,"status":"passed"},"step":{"line":38,"prefix":"Then","index":2,"text":"status 404"}}],"executorName":"main","line":35,"name":"Invalid endpoint returns 404","description":"","durationMillis":4.6806,"startTime":1755059587552,"failed":false,"refId":"[3:35]","endTime":1755059587557,"exampleIndex":-1}],"callDepth":0,"name":"Low Stock Alerts API","description":"","resultDate":"2025-08-13 12:33:07 pm","durationMillis":488.2738,"passedCount":2}